{% extends "base.html" %}

{% block title %}Profil{% endblock %}

{% block content %}
<main class="container mt-5">
    <h2>Profil</h2>
    <div class="center">
        {% if current_user.profile_image %}
            <img src="{{ url_for('static', filename=current_user.profile_image) }}" alt="Profil Fotoğrafı" class="profile-img-large">
        {% else %}
            <img src="{{ url_for('static', filename='images/default_profile.png') }}" alt="Profil Fotoğrafı" class="profile-img-large">
        {% endif %}
    </div>
    <form action="{{ url_for('profile') }}" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="username">Kullanıcı Adı</label>
            <input type="text" class="form-control" id="username" name="username" value="{{ current_user.username }}" required>
        </div>
        <div class="form-group">
            <label for="email">E-posta</label>
            <input type="email" class="form-control" id="email" value="{{ current_user.email }}" disabled>
        </div>
        <div class="form-group">
            <label for="profile_image">Profil Resmi</label>
            <input type="file" class="form-control" id="profile_image" name="profile_image">
        </div>
        <div class="form-group">
            <label for="password">Şifre</label>
            <input type="password" class="form-control" id="password" name="password" value="**********" disabled>
        </div><br><br>
        <div class="btn-container">
            <a href="{{ url_for('change_password') }}" class="btn btn-secondary btn-sm">Şifre Değiştir</a>
            <button type="submit" class="btn btn-primary btn-sm">Güncelle</button>
        </div>
    </form>
</main>
{% include 'footer.html' %}
{% endblock %}
